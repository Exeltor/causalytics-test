{"remainingRequest":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/babel-loader/lib/index.js!/Users/exeltor/Documents/github/causalytics-test/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/exeltor/Documents/github/causalytics-test/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/exeltor/Documents/github/causalytics-test/client/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/exeltor/Documents/github/causalytics-test/client/src/App.vue","mtime":1643825309783},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/babel.config.js","mtime":1643808125901},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/cache-loader/dist/cjs.js","mtime":1643801277649},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/babel-loader/lib/index.js","mtime":1643801278132},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/cache-loader/dist/cjs.js","mtime":1643801277649},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/vue-loader/lib/index.js","mtime":1643801278312}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9leGVsdG9yL0RvY3VtZW50cy9naXRodWIvY2F1c2FseXRpY3MtdGVzdC9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2V4ZWx0b3IvRG9jdW1lbnRzL2dpdGh1Yi9jYXVzYWx5dGljcy10ZXN0L2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ2hhcnQgZnJvbSAnLi9jb21wb25lbnRzL0NoYXJ0LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDaGFydDogQ2hhcnQKICB9LAogIG5hbWU6ICdBcHAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkZWQ6IGZhbHNlLAogICAgICBlcnJvcjogZmFsc2UsCiAgICAgIGNhbXBhaWduc0RhdGE6IFtdLAogICAgICBzZWxlY3RlZENhbXBhaWduOiAwLAogICAgICBzdHlsZXM6IHsKICAgICAgICBoZWlnaHQ6ICcyMCUnLAogICAgICAgIHdpZHRoOiAnMTAwJScKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByYXdEYXRhOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDEvZmFjZWJvb2svZ2V0Q3BjJyk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnNlbnQuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJhd0RhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBfdGhpcy5wcmVwYXJlRGF0YShyYXdEYXRhKTsKCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgcHJlcGFyZURhdGE6IGZ1bmN0aW9uIHByZXBhcmVEYXRhKGRhdGEpIHsKICAgICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhkYXRhKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaV0sIDIpLAogICAgICAgICAgICBrZXkgPSBfT2JqZWN0JGVudHJpZXMkX2lbMF0sCiAgICAgICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwoKICAgICAgICB0aGlzLmNhbXBhaWduc0RhdGEucHVzaCh7CiAgICAgICAgICBpZDoga2V5LAogICAgICAgICAgbmFtZTogdmFsdWUubmFtZSwKICAgICAgICAgIGxhYmVsczogdmFsdWUud2Vla2x5RGF0YS5tYXAoZnVuY3Rpb24gKHdlZWspIHsKICAgICAgICAgICAgcmV0dXJuIHdlZWsuZGF0ZV9zdGFydDsKICAgICAgICAgIH0pLAogICAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgIGxhYmVsOiAnQ1BDJywKICAgICAgICAgICAgZGF0YTogdmFsdWUud2Vla2x5RGF0YS5tYXAoZnVuY3Rpb24gKHdlZWspIHsKICAgICAgICAgICAgICByZXR1cm4gd2Vlay5jcGM7CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBib3JkZXJDb2xvcjogJyMwMDAwMDAnCiAgICAgICAgICB9XSwKICAgICAgICAgIHNwZW5kOiB2YWx1ZS53ZWVrbHlEYXRhLm1hcChmdW5jdGlvbiAod2VlaykgewogICAgICAgICAgICByZXR1cm4gd2Vlay5zcGVuZDsKICAgICAgICAgIH0pLAogICAgICAgICAgY2xpY2tzOiB2YWx1ZS53ZWVrbHlEYXRhLm1hcChmdW5jdGlvbiAod2VlaykgewogICAgICAgICAgICByZXR1cm4gd2Vlay5jbGlja3M7CiAgICAgICAgICB9KQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmxvYWRlZCA9IHRydWU7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0QXZlcmFnZUNQQzogZnVuY3Rpb24gZ2V0QXZlcmFnZUNQQygpIHsKICAgICAgdmFyIGNwYyA9IDA7CiAgICAgIHRoaXMuY2FtcGFpZ25zRGF0YVt0aGlzLnNlbGVjdGVkQ2FtcGFpZ25dLmRhdGFzZXRzWzBdLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAod2Vla2x5Q3BjKSB7CiAgICAgICAgcmV0dXJuIGNwYyArPSBwYXJzZUZsb2F0KHdlZWtseUNwYyk7CiAgICAgIH0pOwogICAgICB2YXIgYXZlcmFnZUNQQyA9IGNwYyAvIHRoaXMuY2FtcGFpZ25zRGF0YVt0aGlzLnNlbGVjdGVkQ2FtcGFpZ25dLmRhdGFzZXRzWzBdLmRhdGEubGVuZ3RoOwogICAgICByZXR1cm4gYXZlcmFnZUNQQy50b0ZpeGVkKDIpOwogICAgfSwKICAgIGdldEF2ZXJhZ2VTcGVuZDogZnVuY3Rpb24gZ2V0QXZlcmFnZVNwZW5kKCkgewogICAgICB2YXIgc3BlbmQgPSAwOwogICAgICB0aGlzLmNhbXBhaWduc0RhdGFbdGhpcy5zZWxlY3RlZENhbXBhaWduXS5zcGVuZC5mb3JFYWNoKGZ1bmN0aW9uICh3ZWVrbHlTcGVuZCkgewogICAgICAgIHJldHVybiBzcGVuZCArPSBwYXJzZUZsb2F0KHdlZWtseVNwZW5kKTsKICAgICAgfSk7CiAgICAgIHZhciBhdmVyYWdlU3BlbmQgPSBzcGVuZCAvIHRoaXMuY2FtcGFpZ25zRGF0YVt0aGlzLnNlbGVjdGVkQ2FtcGFpZ25dLnNwZW5kLmxlbmd0aDsKICAgICAgcmV0dXJuIGF2ZXJhZ2VTcGVuZC50b0ZpeGVkKDIpOwogICAgfSwKICAgIGdldEF2ZXJhZ2VDbGlja3M6IGZ1bmN0aW9uIGdldEF2ZXJhZ2VDbGlja3MoKSB7CiAgICAgIHZhciBjbGlja3MgPSAwOwogICAgICB0aGlzLmNhbXBhaWduc0RhdGFbdGhpcy5zZWxlY3RlZENhbXBhaWduXS5jbGlja3MuZm9yRWFjaChmdW5jdGlvbiAod2Vla2x5Q2xpY2tzKSB7CiAgICAgICAgcmV0dXJuIGNsaWNrcyArPSBwYXJzZUZsb2F0KHdlZWtseUNsaWNrcyk7CiAgICAgIH0pOwogICAgICB2YXIgYXZlcmFnZUNsaWNrcyA9IGNsaWNrcyAvIHRoaXMuY2FtcGFpZ25zRGF0YVt0aGlzLnNlbGVjdGVkQ2FtcGFpZ25dLmNsaWNrcy5sZW5ndGg7CiAgICAgIHJldHVybiBhdmVyYWdlQ2xpY2tzLnRvRml4ZWQoMik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container>\n        <v-row v-if=\"loaded\" class=\"d-flex justify-center align-center text-center\" style=\"height:100vh\">\n          <v-col>\n            <v-row>\n              <v-col>\n                <p>Campaign {{ campaignsData[selectedCampaign].name }} - ID: {{ campaignsData[selectedCampaign].id }}</p>\n              </v-col>\n              <v-col>\n                <v-menu>\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-btn\n                      color=\"primary\"\n                      dark\n                      v-bind=\"attrs\"\n                      v-on=\"on\"\n                    >\n                      Switch campaign\n                    </v-btn>\n                  </template>\n                  <v-list>\n                    <v-list-item\n                      v-for=\"(campaign, index) in campaignsData\"\n                      :key=\"campaign.id\"\n                      @click=\"selectedCampaign = index\"\n                    >\n                      <v-list-item-title>{{ campaign.name }} - {{ campaign.id }}</v-list-item-title>\n                    </v-list-item>\n                  </v-list>\n                </v-menu>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col>\n                <v-row>\n                  <Chart :chartdata=\"campaignsData[selectedCampaign]\" :options=\"options\" :styles=\"styles\" />\n                </v-row>\n                <v-row>\n                  <v-col>\n                    <h1>Statistics</h1>\n                    <v-row>\n                      <v-col>\n                        <h3>Average CPC</h3>\n                        <h4>{{ getAverageCPC }}</h4>\n                      </v-col>\n                    </v-row>\n                    <v-row>\n                      <v-col>\n                        <h3>Average Spend</h3>\n                        <p>{{ getAverageSpend }}</p>\n                      </v-col>\n                      <v-col>\n                        <h3>Average Clicks</h3>\n                        <p>{{ getAverageClicks }}</p>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-row>\n              </v-col>\n            </v-row>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport Chart from './components/Chart.vue'\n\nexport default {\n  components: {\n    Chart\n  },\n  name: 'App',\n  data: () => ({\n    loaded: false,\n    error: false,\n    campaignsData: [],\n    selectedCampaign: 0,\n    styles: {\n      height: '20%',\n      width: '100%'\n    }\n  }),\n  async mounted() {\n    try {\n      const rawData = await (await fetch('http://localhost:3001/facebook/getCpc')).json()\n      this.prepareData(rawData)\n    } catch(e) {\n      this.error = true\n      console.log(e)\n    }\n  },\n  methods: {\n    prepareData(data) {\n      for(let [key, value] of Object.entries(data)) {\n        this.campaignsData.push({\n          id: key,\n          name: value.name,\n          labels: value.weeklyData.map(week => week.date_start),\n          datasets: [{\n            label: 'CPC',\n            data: value.weeklyData.map(week => week.cpc),\n            borderColor: '#000000'\n          }],\n          spend: value.weeklyData.map(week => week.spend),\n          clicks: value.weeklyData.map(week => week.clicks)\n        })\n      }\n      this.loaded = true\n    },\n  },\n  computed: {\n    getAverageCPC() {\n      let cpc = 0\n      this.campaignsData[this.selectedCampaign].datasets[0].data.forEach(weeklyCpc => cpc += parseFloat(weeklyCpc))\n\n      const averageCPC = cpc / this.campaignsData[this.selectedCampaign].datasets[0].data.length\n      return averageCPC.toFixed(2)\n    },\n    getAverageSpend() {\n      let spend = 0\n      this.campaignsData[this.selectedCampaign].spend.forEach(weeklySpend => spend += parseFloat(weeklySpend))\n\n      const averageSpend = spend / this.campaignsData[this.selectedCampaign].spend.length\n      return averageSpend.toFixed(2)\n    },\n    getAverageClicks() {\n      let clicks = 0\n      this.campaignsData[this.selectedCampaign].clicks.forEach(weeklyClicks => clicks += parseFloat(weeklyClicks))\n\n      const averageClicks = clicks / this.campaignsData[this.selectedCampaign].clicks.length\n      return averageClicks.toFixed(2)\n    },\n  }\n};\n</script>\n"],"sourceRoot":"src"}]}