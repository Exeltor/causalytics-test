{"remainingRequest":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/exeltor/Documents/github/causalytics-test/client/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/exeltor/Documents/github/causalytics-test/client/src/App.vue","mtime":1643816258974},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/cache-loader/dist/cjs.js","mtime":1643801277649},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/babel-loader/lib/index.js","mtime":1643801278132},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/cache-loader/dist/cjs.js","mtime":1643801277649},{"path":"/Users/exeltor/Documents/github/causalytics-test/client/node_modules/vue-loader/lib/index.js","mtime":1643801278312}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDaGFydCBmcm9tICcuL2NvbXBvbmVudHMvQ2hhcnQudnVlJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENoYXJ0CiAgfSwKICBuYW1lOiAnQXBwJywKICBkYXRhOiAoKSA9PiAoewogICAgbG9hZGVkOiBmYWxzZSwKICAgIGVycm9yOiBmYWxzZSwKICAgIGNhbXBhaWduc0RhdGE6IG51bGwsCiAgICBvcHRpb25zOiB7CiAgICAgICAgc2NhbGVzOiB7CiAgICAgICAgICAgIHk6IHsKICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgfSksCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHJhd0RhdGEgPSBhd2FpdCAoYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9mYWNlYm9vay9nZXRDcGMnKSkuanNvbigpCiAgICAgIHRoaXMucHJlcGFyZURhdGEocmF3RGF0YSkKICAgIH0gY2F0Y2goZSkgewogICAgICB0aGlzLmVycm9yID0gdHJ1ZQogICAgICBjb25zb2xlLmxvZyhlKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcHJlcGFyZURhdGEoZGF0YSkgewogICAgICBmb3IobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkgewogICAgICAgIHRoaXMuY2FtcGFpZ25zRGF0YSA9IHsKICAgICAgICAgIGxhYmVsczogdmFsdWUud2Vla2x5RGF0YS5tYXAod2VlayA9PiBgJHt3ZWVrLmRhdGVfc3RhcnR9IC0gJHt3ZWVrLmRhdGVfc3RvcH1gKSwKICAgICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgICBsYWJlbDogJ0NQQycsCiAgICAgICAgICAgIGRhdGE6IHZhbHVlLndlZWtseURhdGEubWFwKHdlZWsgPT4gd2Vlay5jcGMpCiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmxvYWRlZCA9IHRydWUKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-row>\n        <Chart v-if=\"loaded\" :chartdata=\"campaignsData\" :options=\"options\" />\n      </v-row>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport Chart from './components/Chart.vue'\n\nexport default {\n  components: {\n    Chart\n  },\n  name: 'App',\n  data: () => ({\n    loaded: false,\n    error: false,\n    campaignsData: null,\n    options: {\n        scales: {\n            y: {\n                beginAtZero: true\n            }\n        }\n    }\n  }),\n  async mounted() {\n    try {\n      const rawData = await (await fetch('http://localhost:3001/facebook/getCpc')).json()\n      this.prepareData(rawData)\n    } catch(e) {\n      this.error = true\n      console.log(e)\n    }\n  },\n  methods: {\n    prepareData(data) {\n      for(let [key, value] of Object.entries(data)) {\n        this.campaignsData = {\n          labels: value.weeklyData.map(week => `${week.date_start} - ${week.date_stop}`),\n          datasets: [{\n            label: 'CPC',\n            data: value.weeklyData.map(week => week.cpc)\n          }]\n        }\n      }\n      this.loaded = true\n    }\n  }\n};\n</script>\n"]}]}